<!DOCTYPE html><html><head><meta charset="utf-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#050505;font-family:system-ui,sans-serif}</style></head><body>
<script>/*__INJECT__*/</script>
<script>
window.L={loaded:{},base:'https://raw.githubusercontent.com/Nixdorfer/iframe-template/main/',edit:false,project:'',char:'',user:'',b64:'',res:window.R||window.innerWidth+'x'+window.innerHeight,platform:(function(){var w=window.innerWidth,h=window.innerHeight,r=w/h;return Math.abs(r-16/9)<Math.abs(r-9/19)?'pc':'mobile'})(),load:function(libs,cb){var self=this,pending=libs.filter(function(n){return!self.loaded[n]});if(!pending.length)return cb&&cb();var c=pending.length;pending.forEach(function(n){self.loaded[n]=1;fetch(self.base+'library/'+n+'.js?t='+Date.now()).then(function(r){return r.text()}).then(function(t){new Function(t)();if(--c===0&&cb)cb()})})}};
(function(){var p=window.P;if(!p)return;var m=p.match(/^([^:]+):(.+)$/);if(!m){document.body.innerHTML='<div style="padding:16px;background:#8b0000;border-radius:8px;color:#fff">格式错误</div>';return}L.project=m[1];var params=m[2].split(';;');if(params[0]==='EDIT'){L.edit=true;L.char=params[1]||'';L.user=params[2]||'';L.b64=params[3]||''}else{L.edit=false;L.char=params[0]||'';L.user=params[1]||'';L.b64=params[2]||''}document.body.innerHTML='<div style="display:flex;align-items:center;justify-content:center;height:100vh;color:#fff">加载中...</div>';fetch(L.base+'navigator.json?t='+Date.now(),{cache:'no-store'}).then(function(r){return r.json()}).then(function(nav){var proj=nav.projects[L.project];if(!proj){document.body.innerHTML='<div style="padding:16px;background:#8b0000;border-radius:8px;color:#fff">未找到: '+L.project+'</div>';return}fetch(L.base+proj.index+'?t='+Date.now(),{cache:'no-store'}).then(function(r){return r.text()}).then(function(h){var cfg='window.L='+JSON.stringify({loaded:{},base:L.base,edit:L.edit,project:L.project,char:L.char,user:L.user,b64:L.b64,res:L.res,platform:L.platform})+';L.load=function(libs,cb){var self=this,pending=libs.filter(function(n){return!self.loaded[n]});if(!pending.length)return cb&&cb();var c=pending.length;pending.forEach(function(n){self.loaded[n]=1;fetch(self.base+"library/"+n+".js?t="+Date.now()).then(function(r){return r.text()}).then(function(t){new Function(t)();if(--c===0&&cb)cb()})})};';document.open();document.write('<!DOCTYPE html><html><head><meta charset="utf-8"></head><body><script>'+cfg+'<\/script>'+h+'</body></html>');document.close()}).catch(function(){document.body.innerHTML='<div style="padding:16px;background:#8b0000;border-radius:8px;color:#fff">加载失败</div>'})}).catch(function(){document.body.innerHTML='<div style="padding:16px;background:#8b0000;border-radius:8px;color:#fff">导航失败</div>'})})();
</script>
</body></html>
