<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:system-ui,sans-serif;background:#050505;color:#fff;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px}
.container{background:#0d0d0d;border-radius:16px;padding:40px;max-width:500px;width:100%;box-shadow:0 10px 40px rgba(0,0,0,0.3)}
h1{color:#fff;margin-bottom:20px;text-align:center}
.form-group{margin-bottom:20px}
label{display:block;margin-bottom:8px;color:#fff}
input,select{width:100%;padding:12px;border:none;border-radius:8px;background:#1a1a1a;color:#fff;font-size:16px}
input:focus,select:focus{outline:2px solid #166d3b}
.btn{width:100%;padding:14px;border:none;border-radius:8px;font-size:18px;cursor:pointer;transition:all 0.3s}
.btn-primary{background:#166d3b;color:#fff;margin-bottom:10px}
.btn-primary:hover{background:#1a8a4a}
.btn-secondary{background:#1a1a1a;color:#fff}
.btn-secondary:hover{background:#2a2a2a}
</style>
</head>
<body>
<div class="container">
<h1>测试表单</h1>
<div class="form-group">
<label>用户名</label>
<input type="text" id="username" placeholder="请输入用户名">
</div>
<div class="form-group">
<label>选择选项</label>
<select id="option">
<option value="A">选项 A</option>
<option value="B">选项 B</option>
<option value="C">选项 C</option>
</select>
</div>
<button class="btn btn-primary" id="completeBtn">完成</button>
<button class="btn btn-secondary" id="cancelBtn">取消</button>
</div>
<script>
const STORAGE_KEY='iframe_form_data';
const getData=()=>({username:document.getElementById('username').value,option:document.getElementById('option').value,timestamp:Date.now()});
document.getElementById('completeBtn').onclick=function(){
const data=getData();
try{parent.localStorage.setItem(STORAGE_KEY,JSON.stringify(data))}catch(e){console.error(e)}
parent.postMessage({type:'iframe-complete',data:data},'*');
};
document.getElementById('cancelBtn').onclick=function(){
parent.postMessage({type:'iframe-cancel'},'*');
};
</script>
</body>
</html>